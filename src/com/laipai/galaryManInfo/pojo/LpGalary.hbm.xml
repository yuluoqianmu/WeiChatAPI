<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping>
    <class name="com.laipai.galaryManInfo.pojo.LpGalary" table="lp_galary" >
        <id name="galaryId" type="java.lang.String">
            <column name="galary_id" length="200" />
            <generator class="assigned" />
        </id>
        <many-to-one name="lpUser" class="com.laipai.userManInfo.pojo.LpUser" fetch="select" lazy="false" not-found="ignore">
            <column name="user_id" length="200">
                <comment>用户Id</comment>
            </column>
        </many-to-one>
        <many-to-one name="lpService" class="com.laipai.serviceInfo.pojo.LpService" fetch="select" lazy="false" not-found="ignore">
            <column name="service_id" length="200">
                <comment>服务序号</comment>
            </column>
        </many-to-one>
         <property name="subjectName" type="java.lang.String">
            <column name="subject_name" length="200">
                <comment>作品集的主题名称</comment>
            </column>
        </property>
        <property name="galaryDesc" type="java.lang.String">
            <column name="galary_desc" length="400">
                <comment>描述</comment>
            </column>
        </property>
        <property name="galaryCover" type="java.lang.String" >
            <column name="galary_cover" length="200">
                <comment>作品集封面</comment>
            </column>
        </property>
        <property name="creatTime" type="java.sql.Timestamp">
            <column name="creat_time" length="19">
                <comment>创建时间</comment>
            </column>
        </property>
        <property name="controlSource" type="java.lang.Integer">
            <column name="control_source" default="0">
                <comment>控制相关数据来源-0：实际数据；1：为手工数据</comment>
            </column>
        </property>
        <property name="viewNumber" type="java.lang.Integer">
            <column name="view_number" default="0">
                <comment>观看次数</comment>
            </column>
        </property>
        <property name="likeNumber" type="java.lang.Integer">
            <column name="like_number" default="0">
                <comment>喜欢次数</comment>
            </column>
        </property>
        <property name="commentNumber" type="java.lang.Integer">
            <column name="comment_number" default="0">
                <comment>评论次数</comment>
            </column>
        </property>
        <property name="galaryStatus" type="java.lang.Integer">
            <column name="galary_status" default="0">
                <comment>作品集状态 0：开启；1：隐藏</comment>
            </column>
        </property>

        <property name="controlIndex" type="java.lang.Integer">
            <column name="index_control" default="0">
                <comment>排序控制 0：正常排序；1：手工控制</comment>
            </column>
        </property> 

        <property name="status" type="java.lang.Integer">
            <column name="status" default="0">
                <comment>作品集是否有效，可以使用   0：有效；1：无效(已被删除)</comment>
            </column>
        </property>

        <property name="galaryIndex" type="java.lang.Integer">
            <column name="galary_index">
                <comment>手工排序的位置号</comment>
            </column>
        </property>       
        <!--根据评论量、喜欢量、浏览量计算的作品集热度分数（排序依据）  -->     
        <property name="galaryScores" type="java.lang.Double">
            <column name="galary_scores">
                <comment>根据评论量、喜欢量、浏览量计算的作品集热度分数（排序依据）</comment>
            </column>
        </property>
        <property name="zhScore" type="java.lang.Double">
            <column name="zh_score">
                <comment>综合评分</comment>
            </column>
        </property>
        <property name="modifyTime" type="java.sql.Timestamp">
            <column name="modify_time" length="19">
                <comment>修改时间</comment>
            </column>
        </property>
        <property name="modifyName" type="java.lang.String">
            <column name="modify_name" length="200">
                <comment>修改人</comment>
            </column>
        </property>
        
       <property name="coverSource" type="java.lang.String">
            <column name="cover_source" length="200">
                <comment>封面原图</comment>
            </column>
        </property>
        
        <one-to-one name="lpGalaryExtends" class="com.laipai.galaryManInfo.pojo.LpGalaryExtend" cascade="all" property-ref="lpGalary" lazy="false" />
        <!-- 
        <set name="lpGalaryExtends" inverse="true" cascade="delete">
            <key>
                <column name="galary_id" length="200">
                    <comment>作品ID</comment>
                </column>
            </key>
            <one-to-many class="com.laipai.galaryManInfo.pojo.LpGalaryExtend" />
        </set>
         -->
        <set name="lpGalaryDetails" inverse="true" cascade="delete" lazy="false">
            <key>
                <column name="galary_id" length="200">
                    <comment>作品ID</comment>
                </column>
            </key>
            <one-to-many not-found="ignore" class="com.laipai.galaryManInfo.pojo.LpGalaryDetail" />
        </set>
        <set name="lpComments" lazy="false" cascade="delete">
            <key>
                <column name="galary_id" length="200">
                    <comment>作品ID</comment>
                </column>
            </key>
            <one-to-many class="com.laipai.userManInfo.pojo.LpComment" not-found="ignore" />
        </set>
        <set name="lpLikes"  cascade="delete" lazy="false" >
            <key>
                <column name="galary_id" length="200">
                    <comment>作品集ID</comment>
                </column>
            </key>
            <one-to-many not-found="ignore" class="com.laipai.userManInfo.pojo.LpLike" />
        </set>
        <set name="set" table="lp_subject_detail">
			<key column="gallery_id"/>
			<many-to-many class="com.laipai.subject.pojo.Subject" not-found="ignore" column="subject_id"/>
        </set>
        <set name="lpStyle" table="lp_gallery_style" cascade="save-update">
        	<key column="galary_id"></key>
	        <many-to-many class="com.laipai.operationManage.pojo.LpStyle" not-found="ignore" fetch="select">
	            <column name="style_id" length="200">
	                <comment>风格</comment>
	            </column>
	        </many-to-many>
        </set> 
    </class>
</hibernate-mapping>
